<!DOCTYPE html>

<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">

<head>

    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>导航栏</title>

    <link href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.css" rel="stylesheet">

</head>
<body>
<div class="navbar navbar-default navbar-fixed-top" role="navigation" id="navigation">

    <div class="container">

        <div class="navbar-header">

            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">

                <span class="sr-only">Toggle navigation</span>

                <span class="icon-bar"></span>

                <span class="icon-bar"></span>

                <span class="icon-bar"></span>

            </button>

            <a class="navbar-brand" href="#">MeetHere</a>

        </div>

        <div class="navbar-collapse collapse">

            <ul class="nav navbar-nav">

                <li v-bind:class="{active:cname[0]}"><a href="#">场馆信息管理</a></li>

                <li v-bind:class="{active:cname[1]}"><a href="#">场地管理</a></li>

                <li v-bind:class="{active:cname[2]}"><a href="createVenue.html">新增场地</a></li>

                <li v-bind:class="{active:cname[3]}"><a href="">新闻管理</a></li>

                <li v-bind:class="{active:cname[3]}"><a href="">订单统计</a></li>

            </ul>

            <ul class="nav navbar-nav navbar-right">

                <li class="dropdown">

                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">{{username}}<b class="caret"></b></a>

                    <ul class="dropdown-menu">

                        <li><a href="#">个人中心</a></li>

                        <li><a @click="logout()">退出登录</a></li>


                    </ul>

                </li>

            </ul>

        </div>

    </div>

</div>

</body>
<script src="js/jquery-1.11.0.min.js"></script>

<script src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.js"></script>
<script type="text/javascript" src="js/jquery.cookie.js"></script>
<script>
    new Vue({
        el: "#navigation",
        data: function () {
            return {
                username: ''
            }
        },
        created: function () {
            this.username = $.cookie('username');
            if (this.username == null) {
                window.location.href = 'login.html';
            }
        },
        props: ['cname'],
        methods: {
            logout: function () {
                $.removeCookie('username');
                var url=new URL();
                axios.post(url.baseUrl+'/user/logout').then(res => {
                    window.location.href = "login.html";
                })
            }
        }

    })

</script>
